\documentclass[usepdftitle=false]{beamer}
% {{{ setup
\usepackage[utf8]{inputenc}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{isabelle,isabellesym}

\useoutertheme{infolines}
\setbeamertemplate{headline}[default]
\setbeamertemplate{navigation symbols}{}

\newcommand{\Nat}{\mathbb{N}}
\newcommand{\Real}{\mathbb{R}}

% }}}

% {{{ metadata
\title[Central Limit Theorem]{A formally verified proof of the\\ Central Limit Theorem\\(preliminary report)}
\author[Avigad (CMU), \underline{H\"olzl (TUM)}, Serafin (CMU)]{%
  \begin{tabular}[t]{@{}c@{}}
    Jeremy Avigad
    \\[2ex]
    \usebeamerfont{institute}
    Carnegie Mellon University
  \end{tabular}
  \quad
  \and
  \quad
  \begin{tabular}[t]{@{}c@{}}
    \underline{Johannes H\"olzl}
    \\[2ex]
    \usebeamerfont{institute}
    TU M\"unchen
  \end{tabular}
  \and
  \quad
  \begin{tabular}[t]{@{}c@{}}
    Luke Serafin
    \\[2ex]
    \usebeamerfont{institute}
    Carnegie Mellon University
  \end{tabular}
  \vspace{-3ex}
}
\date[Isabelle Workshop 2014]{\small Isabelle Workshop 2014}

% PDF settings
\hypersetup{%
  pdftitle={A formally verified proof of the\\ Central Limit Theorem\\(preliminary report)},
  pdfauthor={Jeremy Avigad, Johannes H\"olzl, and Luke Serafin}%
}
% }}}

\begin{document}

\begingroup % {{{ titlepage
\setbeamertemplate{footline}{} % supress info footline on title page
\begin{frame}
  \maketitle
\end{frame}
\endgroup % }}}

\begin{frame}{Central Limit Theorem -- informal} % {{{
\begin{center}
\begin{tikzpicture}
  \begin{axis}[width=10cm,
      xmin = -3,
      xmax = 3,
      ymin = 0,
      ymax = 0.5,
      ticks = none,
      ybar, bar shift = {0cm},
      bar width = 2pt]
    
    \only<5,6>{\addplot[fill=red!10] table {binomial-512.dat};}
    \only<4>{\addplot[fill=red!30] table {binomial-128.dat};}
    \only<3>{\addplot[fill=red!50] table {binomial-32.dat};}
    \only<2>{\addplot[fill=red!70] table {binomial-8.dat};}
    \only<1>{\addplot[fill=red!90] table {binomial-2.dat};}
    
    \only<6>{\addplot[color=blue, line width = 2pt, smooth] {1 / sqrt (2 * pi) * exp(-(x ^ 2) / 2)};}
    
  \end{axis}
\end{tikzpicture}
\end{center}
\end{frame} % }}}

\begin{frame}{Central Limit Theorem -- formal} % {{{

\begin{itemize}

\item Sequence of random variables: $X : \Nat \to \Omega \to \Real$

\item They are i.i.d.\ (independent and identically distributed)

\item Expectation: $\mathbb{E}[X_i] = 0$ and variance: $\mathbb{V}[X_i] = \sigma^2$ (for all $i$)

\end{itemize}

\[ \frac{1}{\sqrt{n \sigma^2}} \sum_{i < n} X_i \xrightarrow{\quad n \to \infty \quad} \mathcal{N}(0, 1) \]

\end{frame} % }}}

\begin{frame}{Central Limit Theorem -- in Isabelle/HOL} % {{{

\begin{isabellebody}
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\,\isakeyword{in}\ prob{\isacharunderscore}space{\isacharparenright}\ central{\isacharunderscore}limit{\isacharunderscore}theorem{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ \isanewline
\ \ \ \ X\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ real{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ D\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}real\ measure{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isasymsigma}\ {\isacharcolon}{\isacharcolon}\ real\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ X{\isacharunderscore}indep{\isacharcolon}\ {\isachardoublequoteopen}indep{\isacharunderscore}vars\ {\isacharparenleft}{\isasymlambda}i{\isachardot}\ borel{\isacharparenright}\ X\ UNIV{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ X{\isacharunderscore}distrib{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}\ distr\ M\ borel\ {\isacharparenleft}X\ n{\isacharparenright}\ {\isacharequal}\ D{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ X{\isacharunderscore}integrable{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}\ integrable\ M\ {\isacharparenleft}X\ n{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ X{\isacharunderscore}mean{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}\ expectation\ {\isacharparenleft}X\ n{\isacharparenright}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isasymsigma}{\isacharunderscore}pos{\isacharcolon}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isachargreater}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ X{\isacharunderscore}square{\isacharunderscore}integrable{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}\ integrable\ M\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ {\isacharparenleft}X\ n\ x{\isacharparenright}\isactrlsup {\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ X{\isacharunderscore}variance{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}\ variance\ {\isacharparenleft}X\ n{\isacharparenright}\ {\isacharequal}\ {\isasymsigma}\isactrlsup {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}weak{\isacharunderscore}conv{\isacharunderscore}m\ \isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymlambda}n{\isachardot}\ distr\ M\ borel\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ {\isasymSum}i{\isacharless}n{\isachardot}\ X\ i\ x\ {\isacharslash}\ sqrt\ {\isacharparenleft}n\ {\isacharasterisk}\ {\isasymsigma}\isactrlsup {\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}density\ lborel\ standard{\isacharunderscore}normal{\isacharunderscore}density{\isacharparenright}{\isachardoublequoteclose}
\end{isabellebody}

\end{frame} % }}}

\begin{frame}{Required concepts} % {{{

\begin{itemize}

\item Independence, integrals, density, and distributions are already formalized

\item Central limit theorem proof requires:
\end{itemize}
%
\begin{definition}[Weak convergence]%
\vspace{-1em}
\[ \begin{array}{l}
  F_\mu~x := \mu~(-\infty, x]\\
  \text{weak{\_}conv{\_}m}~\nu~\mu :\Leftrightarrow \\
  \qquad     (\forall t.~ F_\mu~\text{continuous at}~ t \implies
         (F_{\nu\,n}~t) \xrightarrow{n \to \infty} F_\mu~t)
\end{array} \]
\end{definition}

\begin{definition}[Characteristic functions]%
\vspace{-1em}
\[ \phi_\mu~t = \int_{-\infty}^{\infty} e^{itx} \mu(dx). \]
\end{definition}

\begin{itemize}
  \item \emph{Portmanteau Theorem}: Equivalent characterizations of weak convergence
  \item \emph{Levy Uniqueness Theorem}: $\phi_{\mu_1} = \phi_{\mu_2} \implies \mu_1 = \mu_2$
  \item \emph{Levy Continuity Theorem}: $\text{weak{\_}conv{\_}m}~\nu~\mu \longleftrightarrow
     (\forall t.\ \phi_{\nu_n}~t \xrightarrow{n \to \infty} \phi_\mu~t)$
  \item the characteristic function of the std. normal distribution $\mathcal{N}(0, 1)$
\end{itemize}

\end{frame} % }}}

\begin{frame}{Going through the proof} % {{{
\begin{itemize}
  \item We show that: $\phi_{\mathcal{D}(S n)}$ approaches $\phi_{\mathcal{N}(0, \sigma)}$,
    (\emph{Levy Continuity Theorem}) \\
    where $S\ n := \frac{1}{\sqrt{n \sigma^2}} \sum_{i < n} X_i$
    
  \item We show $\phi_{\mathcal{N}(0, \sigma)}~t = e^{-t^2\sigma^2/2}$
  
  \item $\phi_{S\ n}~t = (\phi_D~t)^n$ 
  
  \item Finishing the proof uses a power series approximation of the exponential function
  
  \item Size of the final CLT proof: 120 lines of theory
\end{itemize}
\end{frame} % }}}

\begin{frame}{Statistics} % {{{
\begin{itemize}
\item set and interval integral: ~ 1670
\item cumulative distribution function: ~ 320
\item weak convergence: ~ 900
\item characteristic functions:  ~ 1700
\item Levy (uniqueness + continuity): ~ 1240
\item A lot of stuff already generalized and moved to the Isabelle repository \\
  (the paper mentions 13,000 lines)
\end{itemize}
\end{frame} % }}}


\end{document}
